{"ast":null,"code":"import _regeneratorRuntime from\"/Users/eburgos/Desktop/cursoReact/crudredux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/eburgos/Desktop/cursoReact/crudredux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{AGREGAR_PRODUCTO,AGREGAR_PRODUCTO_EXITO,AGREGAR_PRODUCTO_ERROR,COMENZAR_DESCARGA_PRODUCTOS,DESCARGA_PRODUCTOS_EXITO,DESCARGA_PRODUCTOS_ERROR,OBTENER_PRODUCTO_ELIMINAR,PRODUCTO_ELIMINADO_EXITO,PRODUCTO_ELIMINADO_ERROR,OBTENER_PRODUCTO_EDITAR,COMENZAR_EDICION_PRODUCTO,PRODUCTO_EDITADO_EXITO,PRODUCTO_EDITADO_ERROR}from'../types';import clienteAxios from'../config/axios';import swalWithBootstrapButtons from'sweetalert2';import Swal from'sweetalert2';// Crear nuevos productos\nexport function crearNuevoProductoAction(producto){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(agregarProducto());_context.prev=1;_context.next=4;return clienteAxios.post('/productos',producto);case 4:// Si todo es correcto actualizamos el state\ndispatch(agregarProductoExito(producto));// Alerta\nSwal.fire('Agregado','Se agrego un nuevo producto','success');_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);// Si hay un error cambiar el state\ndispatch(agregarProductoError(true));// Alerta error\nSwal.fire({icon:'error',title:'Hubo un error',text:'Por favor intenta de nuevo.'});case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();}var agregarProducto=function agregarProducto(){return{type:AGREGAR_PRODUCTO,payload:true};};// Si el producto se guarda en la DB\nvar agregarProductoExito=function agregarProductoExito(producto){return{type:AGREGAR_PRODUCTO_EXITO,payload:producto};};// Si hubo un error\nvar agregarProductoError=function agregarProductoError(estado){return{type:AGREGAR_PRODUCTO_ERROR,payload:estado};};// Funcion que descarga los productos de la DB\nexport function obtenerProductosAction(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var respuesta;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(descargarProductos());_context2.prev=1;_context2.next=4;return clienteAxios.get('/productos');case 4:respuesta=_context2.sent;dispatch(descargaProductosExitosa(respuesta.data));_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);dispatch(descargaProductosError());case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();}var descargarProductos=function descargarProductos(){return{type:COMENZAR_DESCARGA_PRODUCTOS,payload:true};};var descargaProductosExitosa=function descargaProductosExitosa(productos){return{type:DESCARGA_PRODUCTOS_EXITO,payload:productos};};var descargaProductosError=function descargaProductosError(){return{type:DESCARGA_PRODUCTOS_ERROR,payload:true};};// Selecciona y elimina el producto \nexport function borrarProductoAction(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(obtenerProductoEliminar(id));_context3.prev=1;_context3.next=4;return clienteAxios.delete(\"/productos/\".concat(id));case 4:dispatch(eliminarProductoExito());// Si se elimina mostrar alerta\nswalWithBootstrapButtons.fire('Eliminado!','Este producto fue eliminado.','success');_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);dispatch(eliminarProductoError());case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();}var obtenerProductoEliminar=function obtenerProductoEliminar(id){return{type:OBTENER_PRODUCTO_ELIMINAR,payload:id};};var eliminarProductoExito=function eliminarProductoExito(){return{type:PRODUCTO_ELIMINADO_EXITO,payload:null};};var eliminarProductoError=function eliminarProductoError(){return{type:PRODUCTO_ELIMINADO_ERROR,payload:true};};// Obtener un producto para su edicion\nexport function obtenerProductoEditarAction(producto){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(obtenerProductoEditar(producto));case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();}var obtenerProductoEditar=function obtenerProductoEditar(producto){return{type:OBTENER_PRODUCTO_EDITAR,payload:producto};};// Editar un producto en la api y el state\nexport function editarProductoAction(producto){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch(editarProducto());_context5.prev=1;_context5.next=4;return clienteAxios.put(\"/productos/\".concat(producto.id),producto);case 4:dispatch(editarProductoExito(producto));_context5.next=11;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](1);console.log(_context5.t0);dispatch(editarProductoError());case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[1,7]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();}var editarProducto=function editarProducto(){return{type:COMENZAR_EDICION_PRODUCTO};};var editarProductoExito=function editarProductoExito(producto){return{type:PRODUCTO_EDITADO_EXITO,payload:producto};};var editarProductoError=function editarProductoError(){return{type:PRODUCTO_EDITADO_ERROR,payload:true};};","map":{"version":3,"sources":["/Users/eburgos/Desktop/cursoReact/crudredux/src/actions/productoActions.js"],"names":["AGREGAR_PRODUCTO","AGREGAR_PRODUCTO_EXITO","AGREGAR_PRODUCTO_ERROR","COMENZAR_DESCARGA_PRODUCTOS","DESCARGA_PRODUCTOS_EXITO","DESCARGA_PRODUCTOS_ERROR","OBTENER_PRODUCTO_ELIMINAR","PRODUCTO_ELIMINADO_EXITO","PRODUCTO_ELIMINADO_ERROR","OBTENER_PRODUCTO_EDITAR","COMENZAR_EDICION_PRODUCTO","PRODUCTO_EDITADO_EXITO","PRODUCTO_EDITADO_ERROR","clienteAxios","swalWithBootstrapButtons","Swal","crearNuevoProductoAction","producto","dispatch","agregarProducto","post","agregarProductoExito","fire","console","log","agregarProductoError","icon","title","text","type","payload","estado","obtenerProductosAction","descargarProductos","get","respuesta","descargaProductosExitosa","data","descargaProductosError","productos","borrarProductoAction","id","obtenerProductoEliminar","delete","eliminarProductoExito","eliminarProductoError","obtenerProductoEditarAction","obtenerProductoEditar","editarProductoAction","editarProducto","put","editarProductoExito","editarProductoError"],"mappings":"iUAAA,OACAA,gBADA,CAEAC,sBAFA,CAGAC,sBAHA,CAIAC,2BAJA,CAKAC,wBALA,CAMAC,wBANA,CAOAC,yBAPA,CAQAC,wBARA,CASAC,wBATA,CAUAC,uBAVA,CAWAC,yBAXA,CAYAC,sBAZA,CAaAC,sBAbA,KAcO,UAdP,CAeA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,wBAAP,KAAqC,aAArC,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CAEA;AACA,MAAO,SAASC,CAAAA,wBAAT,CAAkCC,QAAlC,CAA4C,CAC/C,+FAAO,iBAAOC,QAAP,kHACHA,QAAQ,CAAEC,eAAe,EAAjB,CAAR,CADG,sCAKON,CAAAA,YAAY,CAACO,IAAb,CAAkB,YAAlB,CAAgCH,QAAhC,CALP,QAOC;AACAC,QAAQ,CAAEG,oBAAoB,CAACJ,QAAD,CAAtB,CAAR,CAEA;AACAF,IAAI,CAACO,IAAL,CACI,UADJ,CAEI,6BAFJ,CAGI,SAHJ,EAXD,+EAkBCC,OAAO,CAACC,GAAR,cACA;AACAN,QAAQ,CAAEO,oBAAoB,CAAC,IAAD,CAAtB,CAAR,CAEA;AACAV,IAAI,CAACO,IAAL,CAAU,CACNI,IAAI,CAAE,OADA,CAENC,KAAK,CAAE,eAFD,CAGNC,IAAI,CAAE,6BAHA,CAAV,EAvBD,oEAAP,+DA8BH,CAED,GAAMT,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,SAAO,CAC3BU,IAAI,CAAE7B,gBADqB,CAE3B8B,OAAO,CAAE,IAFkB,CAAP,EAAxB,CAKA;AACA,GAAMT,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAJ,QAAQ,QAAK,CACtCY,IAAI,CAAE5B,sBADgC,CAEtC6B,OAAO,CAAEb,QAF6B,CAAL,EAArC,CAKA;AACA,GAAMQ,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACM,MAAD,QAAa,CACtCF,IAAI,CAAE3B,sBADgC,CAEtC4B,OAAO,CAAEC,MAF6B,CAAb,EAA7B,CAKA;AACA,MAAO,SAASC,CAAAA,sBAAT,EAAkC,CACrC,gGAAO,kBAAOd,QAAP,oIACHA,QAAQ,CAAEe,kBAAkB,EAApB,CAAR,CADG,wCAIyBpB,CAAAA,YAAY,CAACqB,GAAb,CAAiB,YAAjB,CAJzB,QAIOC,SAJP,gBAKCjB,QAAQ,CAAEkB,wBAAwB,CAACD,SAAS,CAACE,IAAX,CAA1B,CAAR,CALD,mFAQCd,OAAO,CAACC,GAAR,eACAN,QAAQ,CAAEoB,sBAAsB,EAAxB,CAAR,CATD,sEAAP,iEAYH,CAED,GAAML,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,SAAO,CAC9BJ,IAAI,CAAE1B,2BADwB,CAE9B2B,OAAO,CAAE,IAFqB,CAAP,EAA3B,CAKA,GAAMM,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACG,SAAD,QAAgB,CAC7CV,IAAI,CAAEzB,wBADuC,CAE7C0B,OAAO,CAAES,SAFoC,CAAhB,EAAjC,CAKA,GAAMD,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,SAAO,CAClCT,IAAI,CAAExB,wBAD4B,CAElCyB,OAAO,CAAE,IAFyB,CAAP,EAA/B,CAKA;AACA,MAAO,SAASU,CAAAA,oBAAT,CAA8BC,EAA9B,CAAkC,CACrC,gGAAO,kBAAOvB,QAAP,sHACHA,QAAQ,CAAEwB,uBAAuB,CAACD,EAAD,CAAzB,CAAR,CADG,wCAIO5B,CAAAA,YAAY,CAAC8B,MAAb,sBAAkCF,EAAlC,EAJP,QAKCvB,QAAQ,CAAE0B,qBAAqB,EAAvB,CAAR,CAEA;AACA9B,wBAAwB,CAACQ,IAAzB,CACA,YADA,CAEA,8BAFA,CAGA,SAHA,EARD,mFAeCC,OAAO,CAACC,GAAR,eACAN,QAAQ,CAAE2B,qBAAqB,EAAvB,CAAR,CAhBD,sEAAP,iEAoBH,CAED,GAAMH,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACD,EAAD,QAAS,CACrCZ,IAAI,CAAEvB,yBAD+B,CAErCwB,OAAO,CAAEW,EAF4B,CAAT,EAAhC,CAKA,GAAMG,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,SAAO,CACjCf,IAAI,CAAEtB,wBAD2B,CAEjCuB,OAAO,CAAE,IAFwB,CAAP,EAA9B,CAKA,GAAMe,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,SAAO,CACjChB,IAAI,CAAErB,wBAD2B,CAEjCsB,OAAO,CAAE,IAFwB,CAAP,EAA9B,CAKA;AACA,MAAO,SAASgB,CAAAA,2BAAT,CAAqC7B,QAArC,CAA+C,CAClD,gGAAO,kBAAOC,QAAP,sHACHA,QAAQ,CAAE6B,qBAAqB,CAAC9B,QAAD,CAAvB,CAAR,CADG,wDAAP,iEAGH,CAED,GAAM8B,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAAC9B,QAAD,QAAe,CACzCY,IAAI,CAAEpB,uBADmC,CAEzCqB,OAAO,CAAEb,QAFgC,CAAf,EAA9B,CAKA;AACA,MAAO,SAAS+B,CAAAA,oBAAT,CAA8B/B,QAA9B,CAAwC,CAC3C,gGAAO,kBAAOC,QAAP,sHACHA,QAAQ,CAAE+B,cAAc,EAAhB,CAAR,CADG,wCAIOpC,CAAAA,YAAY,CAACqC,GAAb,sBAA+BjC,QAAQ,CAACwB,EAAxC,EAA8CxB,QAA9C,CAJP,QAKCC,QAAQ,CAAEiC,mBAAmB,CAAClC,QAAD,CAArB,CAAR,CALD,mFAQCM,OAAO,CAACC,GAAR,eACAN,QAAQ,CAAEkC,mBAAmB,EAArB,CAAR,CATD,sEAAP,iEAYH,CAED,GAAMH,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,SAAO,CAC1BpB,IAAI,CAAEnB,yBADoB,CAAP,EAAvB,CAIA,GAAMyC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAAClC,QAAD,QAAe,CACvCY,IAAI,CAAElB,sBADiC,CAEvCmB,OAAO,CAAEb,QAF8B,CAAf,EAA5B,CAKA,GAAMmC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,SAAO,CAC/BvB,IAAI,CAAEjB,sBADyB,CAE/BkB,OAAO,CAAE,IAFsB,CAAP,EAA5B","sourcesContent":["import {  \nAGREGAR_PRODUCTO,\nAGREGAR_PRODUCTO_EXITO,\nAGREGAR_PRODUCTO_ERROR,\nCOMENZAR_DESCARGA_PRODUCTOS,\nDESCARGA_PRODUCTOS_EXITO,\nDESCARGA_PRODUCTOS_ERROR,\nOBTENER_PRODUCTO_ELIMINAR,\nPRODUCTO_ELIMINADO_EXITO,\nPRODUCTO_ELIMINADO_ERROR,\nOBTENER_PRODUCTO_EDITAR,\nCOMENZAR_EDICION_PRODUCTO,\nPRODUCTO_EDITADO_EXITO,\nPRODUCTO_EDITADO_ERROR\n} from '../types';\nimport clienteAxios from '../config/axios';\nimport swalWithBootstrapButtons from 'sweetalert2';\nimport Swal from 'sweetalert2';\n\n// Crear nuevos productos\nexport function crearNuevoProductoAction(producto) {\n    return async (dispatch) => {\n        dispatch( agregarProducto() );\n\n        try {\n            // Insertar en la API\n            await clienteAxios.post('/productos', producto);\n\n            // Si todo es correcto actualizamos el state\n            dispatch( agregarProductoExito(producto) );\n\n            // Alerta\n            Swal.fire(\n                'Agregado',\n                'Se agrego un nuevo producto',\n                'success'\n            );\n\n        } catch (error) {\n            console.log(error);\n            // Si hay un error cambiar el state\n            dispatch( agregarProductoError(true) );\n\n            // Alerta error\n            Swal.fire({\n                icon: 'error',\n                title: 'Hubo un error',\n                text: 'Por favor intenta de nuevo.'\n            });\n        }\n    }\n}\n\nconst agregarProducto = () => ({\n    type: AGREGAR_PRODUCTO,\n    payload: true\n})\n\n// Si el producto se guarda en la DB\nconst agregarProductoExito = producto => ({\n    type: AGREGAR_PRODUCTO_EXITO,\n    payload: producto\n})\n\n// Si hubo un error\nconst agregarProductoError = (estado) => ({\n    type: AGREGAR_PRODUCTO_ERROR,\n    payload: estado\n})\n\n// Funcion que descarga los productos de la DB\nexport function obtenerProductosAction() {\n    return async (dispatch) => {\n        dispatch( descargarProductos() );\n\n        try {\n            const respuesta = await clienteAxios.get('/productos');\n            dispatch( descargaProductosExitosa(respuesta.data) );\n\n        } catch (error) {\n            console.log(error);\n            dispatch( descargaProductosError() );\n        }\n    }\n}\n\nconst descargarProductos = () => ({\n    type: COMENZAR_DESCARGA_PRODUCTOS,\n    payload: true\n})\n\nconst descargaProductosExitosa = (productos) => ({\n    type: DESCARGA_PRODUCTOS_EXITO,\n    payload: productos\n})\n\nconst descargaProductosError = () => ({\n    type: DESCARGA_PRODUCTOS_ERROR,\n    payload: true\n})\n\n// Selecciona y elimina el producto \nexport function borrarProductoAction(id) {\n    return async (dispatch) => {\n        dispatch( obtenerProductoEliminar(id) );\n\n        try {\n            await clienteAxios.delete(`/productos/${id}`);\n            dispatch( eliminarProductoExito() );\n\n            // Si se elimina mostrar alerta\n            swalWithBootstrapButtons.fire(\n            'Eliminado!',\n            'Este producto fue eliminado.',\n            'success'\n            )\n\n        } catch (error) {\n            console.log(error);\n            dispatch( eliminarProductoError() )\n        }\n        \n    }\n}\n\nconst obtenerProductoEliminar = (id) => ({\n    type: OBTENER_PRODUCTO_ELIMINAR,\n    payload: id\n})\n\nconst eliminarProductoExito = () => ({\n    type: PRODUCTO_ELIMINADO_EXITO,\n    payload: null\n})\n\nconst eliminarProductoError = () => ({\n    type: PRODUCTO_ELIMINADO_ERROR,\n    payload: true\n})\n\n// Obtener un producto para su edicion\nexport function obtenerProductoEditarAction(producto) {\n    return async (dispatch) => {\n        dispatch( obtenerProductoEditar(producto) );\n    }\n}\n\nconst obtenerProductoEditar = (producto) => ({\n    type: OBTENER_PRODUCTO_EDITAR,\n    payload: producto\n})\n\n// Editar un producto en la api y el state\nexport function editarProductoAction(producto) {\n    return async (dispatch) => {\n        dispatch( editarProducto() );\n\n        try {\n            await clienteAxios.put(`/productos/${producto.id}`, producto);\n            dispatch( editarProductoExito(producto) );\n\n        } catch (error) {\n            console.log(error);\n            dispatch( editarProductoError() );\n        }\n    }\n}\n\nconst editarProducto = () => ({\n    type: COMENZAR_EDICION_PRODUCTO\n})\n\nconst editarProductoExito = (producto) => ({\n    type: PRODUCTO_EDITADO_EXITO,\n    payload: producto\n})\n\nconst editarProductoError = () => ({\n    type: PRODUCTO_EDITADO_ERROR,\n    payload: true\n})"]},"metadata":{},"sourceType":"module"}