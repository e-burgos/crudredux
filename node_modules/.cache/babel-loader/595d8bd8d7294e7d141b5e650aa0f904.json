{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import Producto from'./Producto';// Redux\nimport{useSelector,useDispatch}from'react-redux';import{obtenerProductosAction}from'../actions/productoActions';var Productos=function Productos(){// Creamos la varia de dispatch para poder usar el useDispatch\nvar dispatch=useDispatch();// Usamos un useEffect para escuchar los cambios que se productan en la DB y listar los productos actualizados\nuseEffect(function(){// Consultar la API\nvar cargarProductos=function cargarProductos(){return dispatch(obtenerProductosAction());};cargarProductos();// eslint-disable-next-line\n},[]);// Obtener el state (donde se almacenan los productos)\nvar productos=useSelector(function(state){return state.productos.productos;});var error=useSelector(function(state){return state.productos.error;});var cargando=useSelector(function(state){return state.productos.loading;});return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center my-5\"},\"Listado de Productos\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"bg-primary table-black text-light\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Nombre\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Precio\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Acciones\"))),/*#__PURE__*/React.createElement(\"tbody\",null,productos.length===0?null:productos.map(function(producto){return/*#__PURE__*/React.createElement(Producto,{key:producto.id,producto:producto});}))),productos.length===0?/*#__PURE__*/React.createElement(\"p\",{className:\"alert alert-light w-100 p2 mt-4 text-center\"},\"No hay Productos\"):null,cargando?/*#__PURE__*/React.createElement(\"p\",{className:\"alert alert-success p2 mt-4 text-center\"},\"Cargando...\"):null,error?/*#__PURE__*/React.createElement(\"p\",{className:\"alert alert-danger p2 mt-4 text-center\"},\"Hubo un error al obtener los productos, por favor actualice su navegador.\"):null);};export default Productos;","map":{"version":3,"sources":["/Users/eburgos/Desktop/cursoReact/crudredux/src/components/Productos.js"],"names":["React","Fragment","useEffect","Producto","useSelector","useDispatch","obtenerProductosAction","Productos","dispatch","cargarProductos","productos","state","error","cargando","loading","length","map","producto","id"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAEA;AACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,sBAAT,KAAuC,4BAAvC,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAEpB;AACA,GAAMC,CAAAA,QAAQ,CAAGH,WAAW,EAA5B,CAEA;AACAH,SAAS,CAAC,UAAM,CAEZ;AACA,GAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,SAAMD,CAAAA,QAAQ,CAAEF,sBAAsB,EAAxB,CAAd,EAAxB,CACAG,eAAe,GACf;AACH,CANQ,CAMN,EANM,CAAT,CAQA;AACA,GAAMC,CAAAA,SAAS,CAAGN,WAAW,CAAE,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACD,SAAN,CAAgBA,SAApB,EAAP,CAA7B,CACA,GAAME,CAAAA,KAAK,CAAGR,WAAW,CAAE,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACD,SAAN,CAAgBE,KAApB,EAAP,CAAzB,CACA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,CAAE,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACD,SAAN,CAAgBI,OAApB,EAAP,CAA5B,CAEA,mBACI,oBAAC,QAAD,mBACI,0BAAI,SAAS,CAAC,kBAAd,yBADJ,cAGI,6BAAO,SAAS,CAAC,qBAAjB,eACI,6BAAO,SAAS,CAAC,mCAAjB,eACI,2CACI,0BAAI,KAAK,CAAC,KAAV,WADJ,cAEI,0BAAI,KAAK,CAAC,KAAV,WAFJ,cAGI,0BAAI,KAAK,CAAC,KAAV,aAHJ,CADJ,CADJ,cAQI,iCACMJ,SAAS,CAACK,MAAV,GAAqB,CAArB,CAAyB,IAAzB,CACIL,SAAS,CAACM,GAAV,CAAe,SAAAC,QAAQ,qBACrB,oBAAC,QAAD,EACA,GAAG,CAAEA,QAAQ,CAACC,EADd,CAEA,QAAQ,CAAED,QAFV,EADqB,EAAvB,CAFV,CARJ,CAHJ,CAsBMP,SAAS,CAACK,MAAV,GAAqB,CAArB,cAAyB,yBAAG,SAAS,CAAC,6CAAb,qBAAzB,CAA2G,IAtBjH,CAuBMF,QAAQ,cAAG,yBAAG,SAAS,CAAC,yCAAb,gBAAH,CAA4E,IAvB1F,CAwBMD,KAAK,cAAG,yBAAG,SAAS,CAAC,wCAAb,8EAAH,CAAyI,IAxBpJ,CADJ,CA4BH,CA/CD,CAiDA,cAAeL,CAAAA,SAAf","sourcesContent":["import React, { Fragment, useEffect } from 'react';\nimport Producto from './Producto';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport { obtenerProductosAction } from '../actions/productoActions';\n\nconst Productos = () => {\n\n    // Creamos la varia de dispatch para poder usar el useDispatch\n    const dispatch = useDispatch();\n\n    // Usamos un useEffect para escuchar los cambios que se productan en la DB y listar los productos actualizados\n    useEffect(() => {\n\n        // Consultar la API\n        const cargarProductos = () => dispatch( obtenerProductosAction() );\n        cargarProductos();\n        // eslint-disable-next-line\n    }, [])\n\n    // Obtener el state (donde se almacenan los productos)\n    const productos = useSelector( state => state.productos.productos );\n    const error = useSelector( state => state.productos.error );\n    const cargando = useSelector( state => state.productos.loading );\n\n    return ( \n        <Fragment>\n            <h2 className=\"text-center my-5\">Listado de Productos</h2>\n\n            <table className=\"table table-striped\">\n                <thead className=\"bg-primary table-black text-light\">\n                    <tr>\n                        <th scope=\"col\">Nombre</th>\n                        <th scope=\"col\">Precio</th>\n                        <th scope=\"col\">Acciones</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    { productos.length === 0 ? null \n                        : productos.map( producto => (\n                            <Producto\n                            key={producto.id} \n                            producto={producto}\n                            />\n                        ))\n                    }\n                </tbody>\n            </table>\n            { productos.length === 0 ? <p className=\"alert alert-light w-100 p2 mt-4 text-center\">No hay Productos</p> : null }\n            { cargando ? <p className=\"alert alert-success p2 mt-4 text-center\">Cargando...</p> : null }\n            { error ? <p className=\"alert alert-danger p2 mt-4 text-center\">Hubo un error al obtener los productos, por favor actualice su navegador.</p> : null }\n        </Fragment>\n     );\n}\n \nexport default Productos;"]},"metadata":{},"sourceType":"module"}