{"ast":null,"code":"import _slicedToArray from\"/Users/eburgos/Desktop/cursoReact/crudredux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';// useDispatch se utiliza para mandar a ejecutar las acciones que tengamos y \n// useSelector es la forma en la que se va a acceder al state dentro del componente\nimport{useDispatch,useSelector}from'react-redux';// Actions de Redux\nimport{crearNuevoProductoAction}from'../actions/productoActions';import{mostrarAlertaAction,ocultarAlertaAction}from'../actions/alertaActions';var NuevoProducto=function NuevoProducto(_ref){var history=_ref.history;// state del componente\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),nombre=_useState2[0],guardarNombre=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),precio=_useState4[0],guardarPrecio=_useState4[1];// utilizar useDispatch para que retorne un funcion\nvar dispatch=useDispatch();// Acceder al state del error\nvar cargando=useSelector(function(state){return state.productos.loading;});var error=useSelector(function(state){return state.productos.error;});var alerta=useSelector(function(state){return state.alerta.alerta;});// Dispatch mandara a ejecutar la funciones que se tengan en el action\n// En este caso manda a llamar el action de productoAction \nvar agregarProducto=function agregarProducto(producto){return dispatch(crearNuevoProductoAction(producto));};// Cuando el usuario haga submit\nvar submitNuevoProducto=function submitNuevoProducto(e){e.preventDefault();// Validar formulario\nif(nombre.trim()===''||precio<=0){var _alerta={msg:'Ambos compos son obligatorios',classes:'alert alert-danger text-center text-uppercase p3'};dispatch(mostrarAlertaAction(_alerta));return;}// Revisar errores\ndispatch(ocultarAlertaAction());// Crear el nuevo producto\nagregarProducto({nombre:nombre,precio:precio});// redireccionar \nhistory.push('/');};return/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center mb-4 font-weight-bold\"},\"Agregar Nuevo Producto\"),alerta?/*#__PURE__*/React.createElement(\"p\",{className:alerta.classes},alerta.msg):null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:submitNuevoProducto},/*#__PURE__*/React.createElement(\"div\",{className:\"from-group mb-4\"},/*#__PURE__*/React.createElement(\"label\",null,\"Nombre Producto\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Ingrese un nombre\",name:\"nombre\",value:nombre,onChange:function onChange(e){return guardarNombre(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"from-group mb-4\"},/*#__PURE__*/React.createElement(\"label\",null,\"Precio Producto\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Ingrese su precio\",name:\"precio\",value:precio,onChange:function onChange(e){return guardarPrecio(Number(e.target.value));}})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary font-weight-bold text-uppercase d-block w-100\"},\"Agregar\")),cargando?/*#__PURE__*/React.createElement(\"p\",null,\"'Cargando...'\"):null,error?/*#__PURE__*/React.createElement(\"p\",{className:\"alert alert-danger p2 mt-4 text-center\"},\"Hubo un error\"):null))));};export default NuevoProducto;","map":{"version":3,"sources":["/Users/eburgos/Desktop/cursoReact/crudredux/src/components/NuevoProducto.js"],"names":["React","useState","useDispatch","useSelector","crearNuevoProductoAction","mostrarAlertaAction","ocultarAlertaAction","NuevoProducto","history","nombre","guardarNombre","precio","guardarPrecio","dispatch","cargando","state","productos","loading","error","alerta","agregarProducto","producto","submitNuevoProducto","e","preventDefault","trim","msg","classes","push","target","value","Number"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n// useDispatch se utiliza para mandar a ejecutar las acciones que tengamos y \n// useSelector es la forma en la que se va a acceder al state dentro del componente\nimport { useDispatch, useSelector } from 'react-redux';\n\n// Actions de Redux\nimport { crearNuevoProductoAction } from '../actions/productoActions';\nimport { mostrarAlertaAction, ocultarAlertaAction } from '../actions/alertaActions';\n\nconst NuevoProducto = ({history}) => {\n\n    // state del componente\n    const [ nombre, guardarNombre ] = useState('');\n    const [ precio, guardarPrecio ] = useState(0);\n\n    // utilizar useDispatch para que retorne un funcion\n    const dispatch = useDispatch();\n    \n    // Acceder al state del error\n    const cargando = useSelector((state) => state.productos.loading);\n    const error = useSelector((state) => state.productos.error);\n    const alerta = useSelector((state) => state.alerta.alerta);\n\n    // Dispatch mandara a ejecutar la funciones que se tengan en el action\n    // En este caso manda a llamar el action de productoAction \n    const agregarProducto = producto => dispatch( crearNuevoProductoAction(producto) );\n\n    // Cuando el usuario haga submit\n    const submitNuevoProducto = e => {\n        e.preventDefault();\n\n        // Validar formulario\n        if( nombre.trim() === '' || precio <= 0 ) {\n\n            const alerta = {\n                msg: 'Ambos compos son obligatorios',\n                classes: 'alert alert-danger text-center text-uppercase p3'\n            };\n            dispatch(mostrarAlertaAction(alerta));\n\n            return;\n        }\n\n        // Revisar errores\n        dispatch(ocultarAlertaAction());\n\n        // Crear el nuevo producto\n        agregarProducto({\n            nombre,\n            precio\n        });\n\n        // redireccionar \n        history.push('/');\n    }\n\n    return ( \n        <div className=\"row justify-content-center\">\n            <div className=\"col-md-8\">\n                <div className=\"card\">\n                    <div className=\"card-body\">\n                        <h2 className=\"text-center mb-4 font-weight-bold\">\n                            Agregar Nuevo Producto\n                        </h2>\n                        { alerta ? <p className={alerta.classes}>{alerta.msg}</p> : null }\n                        <form\n                            onSubmit={submitNuevoProducto}\n                        >\n                            <div className=\"from-group mb-4\">\n                                <label>Nombre Producto</label>\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    placeholder=\"Ingrese un nombre\"\n                                    name=\"nombre\"\n                                    value={nombre}\n                                    onChange={e => guardarNombre(e.target.value)} \n                                />\n                            </div>\n                            <div className=\"from-group mb-4\">\n                                <label>Precio Producto</label>\n                                <input\n                                    type=\"number\"\n                                    className=\"form-control\"\n                                    placeholder=\"Ingrese su precio\"\n                                    name=\"precio\"\n                                    value={precio}\n                                    onChange={e => guardarPrecio(Number(e.target.value))}  \n                                />\n                            </div>\n                            <button\n                                type=\"submit\"\n                                className=\"btn btn-primary font-weight-bold text-uppercase d-block w-100\"\n                            >Agregar</button>\n                        </form>\n                        { cargando ? <p>'Cargando...'</p> : null }\n                        { error ? <p className=\"alert alert-danger p2 mt-4 text-center\">Hubo un error</p> : null }\n                    </div>\n                </div>\n            </div>\n        </div>\n     );\n}\n \nexport default NuevoProducto;"]},"metadata":{},"sourceType":"module"}